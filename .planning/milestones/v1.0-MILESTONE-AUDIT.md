---
milestone: v1.0
audited: 2026-02-13
status: gaps_found
scores:
  requirements: 27/28
  phases: 4/5
  integration: 38/42
  flows: 6/7
gaps:
  requirements:
    - "MAXI-03: Threshold/event detection — Phase 4 Plan 03 never executed"
  integration:
    - "Threshold handlers missing from node/serial-bridge.js — help file documents API that doesn't exist"
    - "Threshold modules in sensor-pipeline.maxpat not migrated to imu-sensor.maxpat abstraction"
  flows:
    - "Threshold trigger flow: documented but not implemented (message → handler → comparison → triggers outlet)"
tech_debt:
  - phase: 04-musical-tools
    items:
      - "04-03-PLAN.md exists but was never executed (threshold triggers + 3D viz in dev patch)"
      - "ROADMAP progress table incorrectly shows Phase 4 as 3/3 (actually 2/3)"
      - "No 04-VERIFICATION.md file"
  - phase: 05-abstraction-wifi
    items:
      - "Triggers outlet (12) is placeholder — wired in imu-sensor.maxpat but no internal routing"
      - "Help file (imu-sensor.maxhelp) documents threshold API that doesn't exist (false documentation)"
      - "Outlet @comment attributes not found in abstraction JSON (cosmetic)"
---

# Milestone v1.0 Audit Report

**Milestone:** v1.0 MVP — Arduino-to-MAX Sensor Pipeline
**Audited:** 2026-02-13
**Status:** GAPS FOUND

## Scope

**Phases:** 1-5 (5 phases, 11 plans planned)
**Completed plans:** 10/11 (Phase 4 Plan 03 missing)
**Phase directories verified:** 5/5 exist with summaries

## Requirements Coverage

| Requirement | Description | Phase | Status |
|-------------|-------------|-------|--------|
| ARDU-01 | Read LSM6DS3 at sensor ODR | Phase 1 | SATISFIED |
| ARDU-02 | Madgwick filter for pitch/roll/yaw | Phase 1 | SATISFIED |
| ARDU-03 | Basic smoothing before sending | Phase 1 | SATISFIED |
| ARDU-04 | USB serial CSV at 57600 baud | Phase 1 | SATISFIED |
| ARDU-05 | Raw 6-axis + orientation per message | Phase 1 | SATISFIED |
| ARDU-06 | Measured loop rate matches filter rate | Phase 1 | SATISFIED |
| SERL-01 | serialport + ReadlineParser | Phase 2 | SATISFIED |
| SERL-02 | Validate data, drop malformed lines | Phase 2 | SATISFIED |
| SERL-03 | Tagged maxAPI.outlet() messages | Phase 2 | SATISFIED |
| SERL-04 | Connection status visible in MAX | Phase 2 | SATISFIED |
| SERL-05 | Disconnect/reconnect recovery | Phase 2 | SATISFIED |
| CALB-01 | Interactive calibration from MAX | Phase 3 | SATISFIED |
| CALB-02 | Gyro bias offsets persist | Phase 3 | SATISFIED |
| CALB-03 | Toggle calibration on/off | Phase 3 | SATISFIED |
| CALB-04 | Reset to uncalibrated state | Phase 3 | SATISFIED |
| CALB-05 | Yaw reset to zero from MAX | Phase 3 | SATISFIED |
| CALB-06 | Visual feedback during calibration | Phase 3 | SATISFIED |
| MAXI-01 | Configurable signal smoothing | Phase 4 | SATISFIED |
| MAXI-02 | Range mapping with exponential curves | Phase 4 | SATISFIED |
| **MAXI-03** | **Threshold/event detection** | **Phase 4** | **UNSATISFIED** |
| MAXI-04 | Reusable MAX abstraction | Phase 5 | SATISFIED |
| MAXI-05 | Abstraction accepts config arguments | Phase 5 | SATISFIED |
| MAXI-06 | 3D orientation visualization | Phase 5 | SATISFIED |
| MAXI-07 | Quaternion output alongside Euler | Phase 4 | SATISFIED |
| MAXI-08 | Help patch documenting usage | Phase 5 | SATISFIED |
| WIFI-01 | WiFi/UDP IMU data transport | Phase 5 | SATISFIED |
| WIFI-02 | MAX receives wireless data | Phase 5 | SATISFIED |
| WIFI-03 | Switch USB/WiFi without restart | Phase 5 | SATISFIED |

**Score: 27/28 requirements satisfied (1 unsatisfied)**

## Phase Verification Status

| Phase | Verification | Status | Notes |
|-------|-------------|--------|-------|
| Phase 1: Arduino Firmware | 01-VERIFICATION.md | human_needed | 4/4 automated, hardware tests pending |
| Phase 2: Serial Bridge | 02-VERIFICATION.md | human_needed | 5/5 automated, hardware tests pending |
| Phase 3: Calibration | 03-VERIFICATION.md | passed | 8/8 verified, human tests approved |
| Phase 4: Musical Tools | MISSING | unverified | No verification file; only 2/3 plans completed |
| Phase 5: Abstraction + WiFi | 05-VERIFICATION.md | passed | 22/22 verified, human tests recommended |

**Score: 4/5 phases verified (Phase 4 unverified)**

## Integration Check Results

**Cross-phase wiring:** 38/42 connections verified
**E2E flows:** 6/7 complete

### Complete Flows
1. USB sensor data display (Arduino → Node → MAX)
2. WiFi sensor data display (Arduino → Node dgram → MAX)
3. Calibration workflow (MAX message → Node bias calc → calibrated outlets)
4. Smoothing control (MAX message → Node EMA → smoothed outlets)
5. Range mapping (smoothed data → mapping subpatchers → mapped outlet)
6. 3D visualization (abstraction outlets → companion patch → Jitter render)

### Broken Flow
7. **Threshold triggers** — documented but not implemented
   - Route object includes "threshold" dispatch but no Node handler exists
   - Help file documents `threshold pitch 45` message that does nothing
   - Outlet 12 (triggers) exists but nothing connects to it internally

## Critical Gap: MAXI-03 — Threshold/Event Detection

**Root cause:** Phase 4 Plan 03 (04-03-PLAN.md) was never executed.

**Evidence:**
- 04-03-PLAN.md exists (14KB, detailed specification)
- No 04-03-SUMMARY.md file
- No threshold-related git commits for Phase 4
- STATE.md shows only 2 plans for Phase 4 (not 3)
- node/serial-bridge.js has 0 matches for "threshold"
- imu-sensor.maxpat has 0 matches for "threshold" modules
- sensor-pipeline.maxpat has threshold modules (lines 10611-14818) that appear partially built but are not connected to Node handlers

**Impact:**
- Users cannot create threshold-based triggers (e.g., "tilt past 45 degrees fires a note")
- Help file Recipe 2 (gesture triggers) documents non-functional features
- Outlet 12 is dead — nothing ever outputs to it
- ROADMAP incorrectly reports Phase 4 as 3/3 complete

**Options:**
1. **Execute Plan 04-03** — implement thresholds per existing spec, then complete milestone
2. **Defer to v1.1** — remove threshold from v1.0 scope, fix false documentation, complete milestone
3. **Remove from requirements** — drop MAXI-03, update help file, accept as out of scope for MVP

## Tech Debt Summary

| Phase | Item | Severity |
|-------|------|----------|
| Phase 4 | ROADMAP shows 3/3 but only 2/3 plans completed | Warning |
| Phase 4 | No VERIFICATION.md file | Warning |
| Phase 5 | Help file documents non-existent threshold API | Critical |
| Phase 5 | Outlet 12 (triggers) is placeholder | Info |
| Phase 5 | Outlet @comment attributes missing in abstraction JSON | Info |

**Total: 5 items (1 critical, 2 warning, 2 info)**

---
*Audited: 2026-02-13*
*Integration checker: gsd-integration-checker*
